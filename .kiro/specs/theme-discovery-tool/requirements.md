# 要件定義書

## 概要

個人開発者がアプリやWebサービスの開発テーマを効率的に発見するための情報収集ツール。国、年齢、人種、性別などの多様なカテゴリーで市場トレンドを分析し、マネタイズ可能性の高いテーマを特定できるプラットフォームを提供する。

## 要件

### 要件1

**ユーザーストーリー:** 個人開発者として、様々な人口統計学的カテゴリー別のトレンドを一目で確認したいので、効率的に市場機会を発見できる

#### 受入基準

1. WHEN ユーザーがダッシュボードにアクセスした時 THEN システムは国、年齢、性別、人種のカテゴリー別トレンドを表示する
2. WHEN ユーザーが特定のカテゴリーを選択した時 THEN システムはそのカテゴリーに関連する注目テーマのランキングを表示する
3. WHEN ユーザーがテーマをクリックした時 THEN システムは詳細な市場データと関連情報を表示する

### 要件2

**ユーザーストーリー:** 個人開発者として、マネタイズ可能性の高いテーマを優先的に確認したいので、収益化の見込みがあるプロジェクトに集中できる

#### 受入基準

1. WHEN システムがテーマを表示する時 THEN 各テーマに以下のKPIベースのマネタイズスコアを表示する：
   - 市場規模（TAM: Total Addressable Market）
   - 支払い意欲度（検索ボリューム × 有料サービス利用率）
   - 収益化手法の多様性（サブスク、広告、課金、アフィリエイト等の適用可能性）
   - 顧客獲得コスト（CAC）の低さ
   - 顧客生涯価値（LTV）の高さ
2. WHEN ユーザーがマネタイズフィルターを適用した時 THEN システムは以下の条件を満たすテーマのみを表示する：
   - 月間検索ボリューム10,000回以上
   - 既存有料サービスの存在（市場の支払い意欲の証明）
   - 複数の収益化手法が適用可能
3. WHEN ユーザーがテーマの詳細を確認する時 THEN システムは以下の具体的な収益化情報を表示する：
   - 推定月間収益レンジ（個人開発者ベース）
   - 成功事例とその収益モデル
   - 推奨する収益化手法の優先順位

### 要件3

**ユーザーストーリー:** 個人開発者として、リアルタイムの市場動向を把握したいので、タイムリーな開発判断ができる

#### 受入基準

1. WHEN システムがデータを更新する時 THEN 最新24時間以内の情報を反映する
2. WHEN ユーザーがトレンド推移を確認する時 THEN システムは過去30日間のデータ変化をグラフで表示する
3. WHEN 新しい注目テーマが出現した時 THEN システムはユーザーに通知を送信する

### 要件4

**ユーザーストーリー:** 個人開発者として、競合分析情報を確認したいので、市場参入の難易度を判断できる

#### 受入基準

1. WHEN ユーザーがテーマの詳細を確認する時 THEN システムは既存の競合サービス数を表示する
2. WHEN ユーザーが競合分析を要求した時 THEN システムは市場飽和度と参入難易度を表示する
3. IF 競合が少ない場合 THEN システムは「ブルーオーシャン」として強調表示する

### 要件5

**ユーザーストーリー:** 個人開発者として、技術的実現可能性を評価したいので、自分のスキルレベルに適したプロジェクトを選択できる

#### 受入基準

1. WHEN ユーザーがテーマを確認する時 THEN システムは必要な技術スタックを表示する
2. WHEN ユーザーが開発難易度フィルターを適用した時 THEN システムは初級・中級・上級レベル別にテーマを分類表示する
3. WHEN ユーザーが技術要件を確認する時 THEN システムは推定開発期間と必要リソースを表示する

### 要件6

**ユーザーストーリー:** 個人開発者として、地域特化の機会を発見したいので、ローカル市場での成功可能性を探れる

#### 受入基準

1. WHEN ユーザーが地域を選択した時 THEN システムはその地域特有のニーズとトレンドを表示する
2. WHEN ユーザーが複数地域を比較する時 THEN システムは地域間の市場機会の違いを表示する
3. IF 特定地域で未開拓の需要がある場合 THEN システムはローカライゼーション機会として提案する

### 要件7

**ユーザーストーリー:** 個人開発者として、市場の支払い意欲を定量的に把握したいので、確実に収益化できるテーマを選択できる

#### 受入基準

1. WHEN システムがテーマを分析する時 THEN 以下の支払い意欲指標を計算して表示する：
   - 関連キーワードでの有料広告出稿数
   - 既存サービスの価格帯分析
   - App StoreやGoogle Playでの有料アプリ数と評価
   - クラウドファンディングでの関連プロジェクト成功率
2. WHEN ユーザーが収益予測を確認する時 THEN システムは以下の情報を提供する：
   - 類似サービスの平均月間売上
   - ユーザー獲得単価（CPA）の市場相場
   - 解約率（Churn Rate）の業界平均
3. IF テーマの支払い意欲スコアが高い場合 THEN システムは「高収益化可能性」バッジを表示する

### 要件8

**ユーザーストーリー:** 個人開発者として、収益化までの期間を予測したいので、資金計画と開発スケジュールを立てられる

#### 受入基準

1. WHEN ユーザーがテーマの収益化タイムラインを確認する時 THEN システムは以下を表示する：
   - MVP開発から初回収益までの推定期間
   - 月次収益1万円達成までの推定期間
   - 月次収益10万円達成までの推定期間
2. WHEN システムが収益化速度を評価する時 THEN 以下の要素を考慮する：
   - 市場の成熟度（新興市場 vs 成熟市場）
   - ネットワーク効果の有無
   - バイラル係数の可能性
3. WHEN ユーザーが複数テーマを比較する時 THEN システムは収益化速度でソート表示できる

### 要件9

**ユーザーストーリー:** 個人開発者として、このツール自体も低コストで運用したいので、効率的なインフラとデプロイメント戦略が必要

#### 受入基準

1. WHEN システムをデプロイする時 THEN 以下の技術スタックを使用する：
   - データベース：Supabase（PostgreSQL + リアルタイム機能）
   - フロントエンド：Next.js（Vercel デプロイ）
   - バックエンド：Next.js API Routes または Supabase Edge Functions
   - 認証：Supabase Auth
2. WHEN システムが稼働する時 THEN 月間運用コストを1万円以下に抑える
3. WHEN データ収集を行う時 THEN 以下のAPIとサービスを活用する：
   - Google Trends API
   - Reddit API
   - Twitter API
   - Product Hunt API
   - GitHub API（トレンドリポジトリ）

### 要件10

**ユーザーストーリー:** 開発者として、スケーラブルなデータ収集システムを構築したいので、大量のトレンドデータを効率的に処理できる

#### 受入基準

1. WHEN データ収集を実行する時 THEN Supabase Edge Functionsでバッチ処理を行う
2. WHEN データを保存する時 THEN Supabaseのリアルタイム機能でフロントエンドに即座に反映する
3. WHEN APIレート制限に達した時 THEN システムは自動的に処理を調整し、エラーを回避する
4. WHEN データ量が増加した時 THEN Supabaseの自動スケーリング機能で対応する

### 要件11

**ユーザーストーリー:** ユーザーとして、高速で応答性の良いUIを体験したいので、パフォーマンスが最適化されたWebアプリケーションが必要

#### 受入基準

1. WHEN ページを読み込む時 THEN 初回表示まで3秒以内で完了する
2. WHEN データをフィルタリングする時 THEN 結果表示まで1秒以内で完了する
3. WHEN 大量のデータを表示する時 THEN 仮想スクロールで滑らかな操作性を提供する
4. WHEN オフライン時 THEN キャッシュされたデータで基本機能を利用できる

### 要件12

**ユーザーストーリー:** サービス運営者として、このツール自体を収益化したいので、段階的な課金システムと価値提供が必要

#### 受入基準

1. WHEN ユーザーが登録する時 THEN 以下の料金プランを提供する：
   - 無料プラン：基本的なトレンド表示（月10回まで詳細分析）
   - ベーシックプラン（月額980円）：詳細分析無制限 + 競合分析
   - プロプラン（月額2,980円）：全機能 + API アクセス + 優先サポート
2. WHEN 課金処理を行う時 THEN Stripe を使用して安全な決済を提供する
3. WHEN ユーザーにメール通知を送る時 THEN Resend を使用して以下を配信する：
   - 新着トレンド通知
   - 週次マーケットレポート
   - 課金関連の通知

### 要件13

**ユーザーストーリー:** 有料ユーザーとして、無料ユーザーにはない価値を得たいので、プレミアム機能で差別化された体験が必要

#### 受入基準

1. WHEN 有料ユーザーがログインする時 THEN 以下の限定機能を利用できる：
   - 詳細な競合分析レポート
   - カスタムアラート設定
   - 過去1年間のトレンド履歴
   - CSV/JSON形式でのデータエクスポート
2. WHEN プロプランユーザーがAPIを使用する時 THEN 月間10,000リクエストまで利用できる
3. WHEN 無料ユーザーが制限に達した時 THEN アップグレードを促すUIを表示する

### 要件14

**ユーザーストーリー:** サービス運営者として、ユーザーエンゲージメントを高めたいので、継続利用を促進する仕組みが必要

#### 受入基準

1. WHEN ユーザーが一定期間非アクティブな時 THEN Resend経由で再エンゲージメントメールを送信する
2. WHEN 新しい高収益テーマが発見された時 THEN 有料ユーザーに優先的に通知する
3. WHEN ユーザーがサービスを解約しようとする時 THEN 解約理由を収集し、改善提案を行う
4. WHEN 月次レポートを生成する時 THEN ユーザーの利用状況と成果をパーソナライズして配信する
